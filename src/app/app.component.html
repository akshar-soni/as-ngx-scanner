<div class="container">
  <h1> ngx-scanner-qrcode </h1>

  <!-- ngx-scanner-qrcode -->
  <ngx-scanner-qrcode #action="scanner" [config]="config" (error)="onError($event)"></ngx-scanner-qrcode>

  <!-- data  -->
  <p class="data">{{ action.data | async }}</p>

  <!-- Loading -->
  <p *ngIf="action.isLoading">âŒ› Loading...</p>

  <!-- toggleCamera -->
  <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading">
    <img *ngIf="!action.isStart" (click)="handle(action, 'start')" src="https://img.icons8.com/ios/50/000000/no-camera--v2.png" width="30px"/>
    <img *ngIf="action.isStart" (click)="handle(action, 'stop')" src="https://img.icons8.com/ios/50/000000/no-camera--v1.png" width="30px"/>
  </button>

  <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading" (click)="handle(action, 'start')">Start</button>
  <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading" (click)="handle(action, 'play')">Play</button>
  <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading" (click)="handle(action, 'pause')">Pause</button>
  <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading" (click)="handle(action, 'stop')">Stop</button>
  <button class="btn" [class.btn-info]="!action.isStart" [class.btn-warning]="action.isStart" [disabled]="action.isLoading" (click)="action.download('ngx-scanner-qrcode')">Cap</button>

  <br>
  
  <!-- For select files -->
  <input #file type="file" (change)="onSelects(file.files)" [multiple]="'multiple'" [accept]="'.jpg, .png, .gif, .jpeg'" class="btn btn-success my-2"/>

  <ol>
    <li *ngFor="let row of selectedFiles">
      <img [src]="row.urlQR | safe: 'url'" [alt]="row.name" width="100%">
      <p class="data">{{row.dataQR}}</p>
      <!-- <ngx-scanner-qrcode #actionFile="scanner" [src]="row.url || ''" [config]="{style: { width: '100%', background: '#FFF' }}"> 
        <p class="data">{{ actionFile.data | async }}</p>
      </ngx-scanner-qrcode> -->
    </li>
  </ol>

  <!-- License -->
  <p class="center"><a href="https://github.com/id1945/ngx-scanner-face/blob/master/LICENSE">MIT License</a></p>

  <!-- Copyright -->
  <p class="center">Copyright (c) 2022 DaiDH</p>
</div>